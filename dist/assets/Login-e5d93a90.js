import{a0 as A,a6 as T,I as le,Q as f,a1 as B,o as p,c as k,a9 as j,a as v,w as b,ar as q,am as $,aa as g,U as t,ak as G,as as J,at as K,ao as re,P as O,aR as ie,aS as ue,W as S,E as ce,K as de,ah as C,aj as pe,al as N,ai as me,ad as fe,aT as ge,aU as V,a4 as H,aV as W,D as x,aW as R,ay as ye,aX as ve,aY as _e,_ as he}from"./index-780f59fa.js";import{_ as Z,x as Ce,K as be,i as Q,T as U,n as Te,k as we,y as F,L as Ne,z as Se,E as ke,H as Ee,I as Ie,J as Be,M as $e}from"./request-34a6a170.js";const xe=A({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),Me=["textContent"],Le=T({name:"ElBadge"}),ze=T({...Le,props:xe,setup(s,{expose:n}){const e=s,o=le("badge"),a=f(()=>e.isDot?"":B(e.value)&&B(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return n({content:a}),(r,i)=>(p(),k("div",{class:g(t(o).b())},[j(r.$slots,"default"),v(K,{name:`${t(o).namespace.value}-zoom-in-center`,persisted:""},{default:b(()=>[q($("sup",{class:g([t(o).e("content"),t(o).em("content",r.type),t(o).is("fixed",!!r.$slots.default),t(o).is("dot",r.isDot)]),textContent:G(t(a))},null,10,Me),[[J,!r.hidden&&(t(a)||r.isDot)]])]),_:1},8,["name"])],2))}});var De=Z(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Oe=re(De),X=["success","info","warning","error"],u=be({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Q?document.body:void 0}),Ve=A({customClass:{type:String,default:u.customClass},center:{type:Boolean,default:u.center},dangerouslyUseHTMLString:{type:Boolean,default:u.dangerouslyUseHTMLString},duration:{type:Number,default:u.duration},icon:{type:Ce,default:u.icon},id:{type:String,default:u.id},message:{type:O([String,Object,Function]),default:u.message},onClose:{type:O(Function),required:!1},showClose:{type:Boolean,default:u.showClose},type:{type:String,values:X,default:u.type},offset:{type:Number,default:u.offset},zIndex:{type:Number,default:u.zIndex},grouping:{type:Boolean,default:u.grouping},repeatNum:{type:Number,default:u.repeatNum}}),He={destroy:()=>!0},c=ie([]),Re=s=>{const n=c.findIndex(a=>a.id===s),e=c[n];let o;return n>0&&(o=c[n-1]),{current:e,prev:o}},Ue=s=>{const{prev:n}=Re(s);return n?n.vm.exposed.bottom.value:0},Fe=(s,n)=>c.findIndex(o=>o.id===s)>0?20:n,Pe=["id"],Ae=["innerHTML"],je=T({name:"ElMessage"}),qe=T({...je,props:Ve,emits:He,setup(s,{expose:n}){const e=s,{Close:o}=Ne,{ns:a,zIndex:r}=ue("message"),{currentZIndex:i,nextZIndex:d}=r,m=S(),y=S(!1),h=S(0);let E;const ee=f(()=>e.type?e.type==="error"?"danger":e.type:"info"),se=f(()=>{const l=e.type;return{[a.bm("icon",l)]:l&&U[l]}}),M=f(()=>e.icon||U[e.type]||""),ne=f(()=>Ue(e.id)),L=f(()=>Fe(e.id,e.offset)+ne.value),te=f(()=>h.value+L.value),oe=f(()=>({top:`${L.value}px`,zIndex:i.value}));function I(){e.duration!==0&&({stop:E}=Se(()=>{w()},e.duration))}function z(){E==null||E()}function w(){y.value=!1}function ae({code:l}){l===ke.esc&&w()}return ce(()=>{I(),d(),y.value=!0}),de(()=>e.repeatNum,()=>{z(),I()}),Te(document,"keydown",ae),we(m,()=>{h.value=m.value.getBoundingClientRect().height}),n({visible:y,bottom:te,close:w}),(l,D)=>(p(),C(K,{name:t(a).b("fade"),onBeforeLeave:l.onClose,onAfterLeave:D[0]||(D[0]=ss=>l.$emit("destroy")),persisted:""},{default:b(()=>[q($("div",{id:l.id,ref_key:"messageRef",ref:m,class:g([t(a).b(),{[t(a).m(l.type)]:l.type&&!l.icon},t(a).is("center",l.center),t(a).is("closable",l.showClose),l.customClass]),style:pe(t(oe)),role:"alert",onMouseenter:z,onMouseleave:I},[l.repeatNum>1?(p(),C(t(Oe),{key:0,value:l.repeatNum,type:t(ee),class:g(t(a).e("badge"))},null,8,["value","type","class"])):N("v-if",!0),t(M)?(p(),C(t(F),{key:1,class:g([t(a).e("icon"),t(se)])},{default:b(()=>[(p(),C(me(t(M))))]),_:1},8,["class"])):N("v-if",!0),j(l.$slots,"default",{},()=>[l.dangerouslyUseHTMLString?(p(),k(fe,{key:1},[N(" Caution here, message could've been compromised, never use user's input as message "),$("p",{class:g(t(a).e("content")),innerHTML:l.message},null,10,Ae)],2112)):(p(),k("p",{key:0,class:g(t(a).e("content"))},G(l.message),3))]),l.showClose?(p(),C(t(F),{key:2,class:g(t(a).e("closeBtn")),onClick:ge(w,["stop"])},{default:b(()=>[v(t(o))]),_:1},8,["class","onClick"])):N("v-if",!0)],46,Pe),[[J,y.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Ge=Z(qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Je=1;const Y=s=>{const n=!s||H(s)||W(s)||x(s)?{message:s}:s,e={...u,...n};if(!e.appendTo)e.appendTo=document.body;else if(H(e.appendTo)){let o=document.querySelector(e.appendTo);ye(o)||(o=document.body),e.appendTo=o}return e},Ke=s=>{const n=c.indexOf(s);if(n===-1)return;c.splice(n,1);const{handler:e}=s;e.close()},We=({appendTo:s,...n},e)=>{const o=`message_${Je++}`,a=n.onClose,r=document.createElement("div"),i={...n,id:o,onClose:()=>{a==null||a(),Ke(h)},onDestroy:()=>{R(null,r)}},d=v(Ge,i,x(i.message)||W(i.message)?{default:x(i.message)?i.message:()=>i.message}:null);d.appContext=e||_._context,R(d,r),s.appendChild(r.firstElementChild);const m=d.component,h={id:o,vnode:d,vm:m,handler:{close:()=>{m.exposed.visible.value=!1}},props:d.component.props};return h},_=(s={},n)=>{if(!Q)return{close:()=>{}};if(B(V.max)&&c.length>=V.max)return{close:()=>{}};const e=Y(s);if(e.grouping&&c.length){const a=c.find(({vnode:r})=>{var i;return((i=r.props)==null?void 0:i.message)===e.message});if(a)return a.props.repeatNum+=1,a.props.type=e.type,a.handler}const o=We(e,n);return c.push(o),o.handler};X.forEach(s=>{_[s]=(n={},e)=>{const o=Y(n);return _({...o,type:s},e)}});function Ze(s){for(const n of c)(!s||s===n.props.type)&&n.handler.close()}_.closeAll=Ze;_._context=null;const P=ve(_,"$message"),Qe="/assets/640-3458b757.gif",Xe=s=>Ee.post("/user/login",s),Ye={class:"center"},es=T({__name:"Login",setup(s){const n=_e(),e=S(""),o=async()=>{if(e.value===""){a();return}(await Xe({name:e.value})).code===1?(localStorage.setItem("userInfo",JSON.stringify({name:e.value})),n.push("/")):P({duration:5e3,message:"这是哪个沙雕",type:"error"})},a=()=>{P({duration:5e3,message:v("img",{src:Qe},null),type:"error"})};return(r,i)=>{const d=Ie,m=Be;return p(),k("div",Ye,[v(m,{modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=y=>e.value=y),placeholder:"请输入你的大名"},{append:b(()=>[v(d,{icon:t($e),onClick:o},null,8,["icon"])]),_:1},8,["modelValue"])])}}});const os=he(es,[["__scopeId","data-v-1cb1a1fa"]]);export{os as default};
